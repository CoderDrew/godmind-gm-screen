(()=>{"use strict";const e=window.wp.blocks,o=window.wp.blockEditor,t=window.wp.editor,i=window.wp.components,n=window.wp.data,r=window.wp.i18n,d=window.ReactJSXRuntime;(0,e.registerBlockType)("godmind/audio-player",{edit:function({attributes:e,setAttributes:l}){const{trackId:s}=e,{tracks:a,isLoading:c}=(0,n.useSelect)(e=>{const{getEntityRecords:o,isResolving:t}=e("core");return{tracks:o("postType","track",{per_page:-1}),isLoading:t("core","getEntityRecords",["postType","track",{per_page:-1}])}},[]),p=[{label:(0,r.__)("Select a track...","godmind"),value:0}];a&&a.length>0&&a.forEach(e=>{p.push({label:e.title.rendered,value:e.id})});const g=a?.find(e=>e.id===s);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.InspectorControls,{children:(0,d.jsx)(i.PanelBody,{title:(0,r.__)("Audio Player Settings","godmind"),children:(0,d.jsx)(i.SelectControl,{label:(0,r.__)("Select Music Track","godmind"),value:s,options:p,onChange:e=>l({trackId:parseInt(e)}),help:(0,r.__)("Choose a track from the Music CPT","godmind")})})}),(0,d.jsx)("div",{...(0,o.useBlockProps)(),children:c?(0,d.jsxs)(i.Placeholder,{icon:"controls-volumeon",label:(0,r.__)("Scene Audio Player","godmind"),children:[(0,d.jsx)(i.Spinner,{}),(0,d.jsx)("p",{children:(0,r.__)("Loading tracks...","godmind")})]}):s?(0,d.jsx)("div",{className:"godmind-audio-player-editor-preview",children:(0,d.jsxs)("div",{style:{padding:"1rem",background:"#1a1a2e",border:"1px solid #16213e",borderRadius:"8px",color:"#eaeaea"},children:[(0,d.jsx)("div",{style:{marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px solid #16213e"},children:(0,d.jsxs)("strong",{children:["ðŸŽµ ",g?.title.rendered||"Audio Player"]})}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,d.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#0f3460",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"â–¶ï¸"}),(0,d.jsx)("div",{style:{flex:1},children:(0,d.jsx)("input",{type:"range",min:"0",max:"100",value:"70",disabled:!0,style:{width:"100%",cursor:"not-allowed"}})}),(0,d.jsx)("span",{children:"70%"})]}),(0,d.jsx)("p",{style:{marginTop:"0.75rem",fontSize:"0.875rem",color:"#a0a0a0",fontStyle:"italic",marginBottom:0},children:"Preview only â€¢ Full player will display on the front-end"})]})}):(0,d.jsx)(i.Placeholder,{icon:"controls-volumeon",label:(0,r.__)("Scene Audio Player","godmind"),instructions:(0,r.__)("Select a music track from the block settings to display the audio player.","godmind"),children:(0,d.jsx)(i.SelectControl,{label:(0,r.__)("Select Track","godmind"),value:s,options:p,onChange:e=>l({trackId:parseInt(e)})})})})]})},save:()=>null})})();